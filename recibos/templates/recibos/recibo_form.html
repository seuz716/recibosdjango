{% extends 'recibos/base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card">
        <div class="card-body">
          <h2 class="card-title">{% if form.instance.pk %}Editar Recibo{% else %}Crear Recibo{% endif %}</h2>

          <form method="post" class="mt-4">
            {% csrf_token %}
            <div class="form-group row">
              <label for="{{ form.codigo.id_for_label }}" class="col-sm-2 col-form-label">Código</label>
              <div class="col-sm-10">
                {{ form.codigo }}
                {% if form.codigo.errors %}
                  <div class="error-message">{{ form.codigo.errors|join:", " }}</div>
                {% endif %}
              </div>
            </div>
            <div class="form-group row">
              <label for="{{ form.descripcion.id_for_label }}" class="col-sm-2 col-form-label">Descripción</label>
              <div class="col-sm-10">
                {{ form.descripcion }}
                {% if form.descripcion.errors %}
                  <div class="error-message">{{ form.descripcion.errors|join:", " }}</div>
                {% endif %}
              </div>
            </div>
            <div class="form-group row">
              <label for="{{ form.monto.id_for_label }}" class="col-sm-2 col-form-label">Monto</label>
              <div class="col-sm-10">
                {{ form.monto }}
                {% if form.monto.errors %}
                  <div class="error-message">{{ form.monto.errors|join:", " }}</div>
                {% endif %}
              </div>
            </div>
            <div class="form-group row">
              <div class="col-sm-10 offset-sm-2">
                <button type="submit" class="btn btn-primary">Guardar</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  $(document).ready(function() {
    $('form').validate({
      rules: {
        'codigo': {
          required: true,
          minlength: 10
        },
        'descripcion': {
          required: true,
          minlength: 10
        },
        'monto': {
          required: true,
          number: true
        }
      },
      messages: {
        'codigo': {
          required: 'El código es obligatorio.',
          minlength: 'El código debe tener al menos 10 caracteres.'
        },
        'descripcion': {
          required: 'La descripción es obligatoria.',
          minlength: 'La descripción debe tener al menos 10 caracteres.'
        },
        'monto': {
          required: 'El monto es obligatorio.',
          number: 'El monto debe ser un número.'
        }
      }
    });
  });
</script>

{% endblock %}
